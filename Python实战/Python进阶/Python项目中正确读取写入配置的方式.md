https://www.cnblogs.com/zhangyafei/p/10265072.html

https://blog.csdn.net/happyjacob/article/details/109279118

# Python项目中正确读取写入配置的方式

## 1. 将配置写在Python文件中

> 这种方法非常简单，但它存在严重的安全问题，我们都知道不应该把配置写在代码中，如果有人把我们的源代码上传到了github中，那么数据库的配置就相当于向全世界公开了，当然，当配置文件不包含敏感信息时，也可以才有这种简单的方法。

## 2. 利用外部配置文件

> 让配置文件和代码独立开来，通常使用 json、yaml或者ini的文件格式来存储配置。
>
> 结合环境变量和 python 库读取外部文件，首先开发通常不会接触到生成环境，因此生成环境的配置文件由运维来写，运维将应用所需要的配置写好后，放到生产服务器的指定位置，代码从指定位置读取配置。
>
> 为了方便程序的统一调试，可以提前约定好一个系统环境变量（XXX_CONFIG_PATH）来指定配置文件的存放路径。
>
> 例如：`export XXX_CONFIG_PATH = /home/test/configs/config.ini`

## 3. 直接使用系统环境变量读取配置

> 此方法不使用文件来存储配置信息，将所有的配置信息存储到环境变量中，在实践中比较常见，运维通过 ansible 部署脚本，在程序运行前将需要配置的信息导入到环境变量中。
>
> 不利用文件存储，在一定程度上加强了对密码等配置信息的保护，但也增加了运维的工作量，尤其是当需要修改配置时。

## 4. 微服务架构

> 在一些微服务架构中，会专门开发配置中心，程序直接从线上读取配置，配置的管理也会开发一套GUI，方便开发和运维。

